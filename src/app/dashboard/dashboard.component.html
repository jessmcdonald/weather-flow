<h1>Dashboard</h1>

<ul class="location-list">
    <li class="current-location-list-item">
        <wf-location-list-item *ngIf="currentLocationWeather; else loading"
        [locationName]=currentLocationWeather.name 
        [currentTemp]=currentLocationWeather.temp 
        [currentTempImp]=currentLocationWeather.temp_imp
        [tempUnit]=this.tempUnit 
        [icon]=currentLocationWeather.icon
        [weather]=currentLocationWeather.weather></wf-location-list-item>
        <ng-template #loading>
            <div *ngIf="!locationError; else locationErrorMessage">Loading current weather</div>
            <ng-template #locationErrorMessage>
                <div>{{locationError}}</div>
            </ng-template></ng-template>
    </li>

    <li *ngFor="let location of locationsList" class="default-location-list-item">
        <wf-location-list-item 
        [locationName]=location.name 
        [currentTemp]=location.temp
        [currentTempImp]=location.temp_imp 
        [tempUnit]=this.tempUnit
        [icon]=location.icon
        [weather]=location.weather></wf-location-list-item>
    </li>
</ul>

<div class="btn-container">
    <button class="metric-btn" [ngClass]="{'active': unitToDisplay == UnitsType.METRIC}" (click)=setUnitsToDisplay(UnitsType.METRIC) i18n>metric</button>
    <button class="imperial-btn" [ngClass]="{'active': unitToDisplay == UnitsType.IMPERIAL}" (click)=setUnitsToDisplay(UnitsType.IMPERIAL) i18n>imperial</button>
</div>